# OneButtonManager

- 这是一个用于管理Maya自定义gif按钮的Python脚本项目：
  - 初始化工具架布局
  - 添加按钮和分隔符
  - 转化现有工具架
  - 保存和加载工具架数据

## 文件列表

- `GIFButton.py`: 创建和管理动态按钮的脚本，支持GIF图标的播放和暂停
- `ShelfButtonManager.py`: 一个示例，在工具架上添加gif图标

## 环境

- Maya2020+
  - 2020 2022 2025 测试通过

## 安装方法

- 将`install.mel`拖放到Maya窗口中，提示安装成功

## 使用方法

### 工具栏管理

- 右击菜单栏
  - 添加按钮
    - 添加一个默认无功能按钮
  - 添加分隔符
    - 添加一个默认分隔符
  - 粘贴按钮
    - 粘贴剪贴板中的按钮
  - 回收站
    - 删除的按钮会被放入回收站，可以恢复，最多保存20个
  - 转换工具栏
    - 将现有工具栏转换为新的工具栏，原功能不变
    - 新工具栏上的图标将被替换GIFButton
      - 右击图标可以编辑按钮
  - 保存工具栏
    - 保存当前工具栏信息到文件 /Documents/OneTools/data/shelf_xxxx.json
  - 导入工具栏
    - 从OneButtonManager保存的文件可以导入
  - 自动加载工具栏
    - 在Maya启动时自动加载`/Documents/OneTools/data/`文件夹里的所有符合规则的工具栏
  - 自动保存工具栏
    - 在Maya关闭时自动保存工具栏 `/Documents/OneTools/data/`
  - 语言切换
    - 切换中文和英文

### 按钮编辑

- 右击按钮
  - 编辑
    - 编辑
      - 打开按钮编辑窗口
    - 复制
      - 复制按钮到剪贴板
    - 剪切
      - 剪切按钮到剪贴板
    - 粘贴
      - 粘贴剪贴板中的按钮到当前按钮
  - 删除
    - 删除按钮
      - 删除的按钮会被放入回收站，可以恢复，最多保存20个

### 按钮编辑器

- 更换图标
- 更换命令
- 更换提示
- 更换菜单
  - 添加菜单项
  - 编辑菜单项
    - 修改菜单名
    - 修改菜单命令
    - 修改菜单图标
    - 修改菜单提示
  - 删除菜单项
